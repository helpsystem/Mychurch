# DO NOT REMOVE. CLOUDLINUX PASSENGER CONFIGURATION BEGIN
PassengerAppRoot "/home/npyugcbr/my-church-api"
PassengerBaseURI "/"
PassengerNodejs "/home/npyugcbr/nodevenv/my-church-api/20/bin/node"
PassengerAppType node
PassengerStartupFile server.js
# DO NOT REMOVE. CLOUDLINUX PASSENGER CONFIGURATION END

RewriteEngine On

# ✅ API به Node.js هدایت می‌شود (بدون Proxy)
RewriteCond %{REQUEST_URI} ^/api/
RewriteRule ^ - [L]

# ✅ سایر مسیرها به React SPA
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ index.html [QSA,L]

# DO NOT REMOVE OR MODIFY. CLOUDLINUX ENV VARS CONFIGURATION BEGIN
<IfModule Litespeed>
# SECURITY: Environment variables should be set through Replit secrets or server configuration
# SetEnv DB_HOST [SET_THROUGH_REPLIT_SECRETS]
# SetEnv DB_NAME [SET_THROUGH_REPLIT_SECRETS]
# SetEnv DB_PASS [SET_THROUGH_REPLIT_SECRETS]
# SetEnv DB_USER [SET_THROUGH_REPLIT_SECRETS]
# SetEnv JWT_SECRET [SET_THROUGH_REPLIT_SECRETS]
</IfModule>
# DO NOT REMOVE OR MODIFY. CLOUDLINUX ENV VARS CONFIGURATION END
